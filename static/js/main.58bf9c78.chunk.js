(this["webpackJsonpcontacts-crud"]=this["webpackJsonpcontacts-crud"]||[]).push([[0],{51:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},60:function(t,e,n){},80:function(t,e,n){},81:function(t,e,n){},82:function(t,e,n){},84:function(t,e,n){"use strict";n.r(e);var a=n(15),c=n.n(a),s=n(4),r=n(42),i=n(10),l=n(0),o=(n(51),n(1)),u=function(t){var e=t.children;return Object(o.jsx)("div",{className:"wrapper",children:e})},j=(n(53),function(t){var e=t.user,n=t.handleCurrentContact;return Object(o.jsxs)("div",{className:"userContact",tabIndex:0,onClick:function(){return n(e)},children:[e.firstName," ",e.lastName]})}),d=(n(54),n(18)),m=n.n(d),b=n(99),p=function(t){var e=t.handleOpen;return Object(o.jsx)(b.a,{onClick:e,children:Object(o.jsx)(m.a,{fontSize:"large"})})},h=function(t){var e=t.children,n=t.handleOpen;return Object(o.jsxs)("div",{className:"list",children:[Object(o.jsxs)("div",{className:"listHead",children:[Object(o.jsx)("h1",{children:"Contacts"}),Object(o.jsx)(p,{handleOpen:function(){return n(!0)}})]}),e]})},O=(n(60),n(13)),f=n.n(O),x=n(24),v=n(25),N=n.n(v),C=function(){var t=Object(x.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("https://avb-contacts-api.herokuapp.com/contacts/paginated");case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(x.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={accept:"application/json","Content-Type":"application/json"},t.prev=1,t.next=4,N.a.post("https://avb-contacts-api.herokuapp.com/contacts",e,{headers:n});case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(1),t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(x.a)(f.a.mark((function t(e,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.put("https://avb-contacts-api.herokuapp.com/contacts/".concat(e),n);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=Object(x.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.delete("https://avb-contacts-api.herokuapp.com/contacts/".concat(e));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),k=n(44),S=n.n(k),E=function(t){var e=t.currentContact,n=t.setCurrentContact,a=t.handleOpenEmail,c=e.emails;return""===e.firstName?Object(o.jsxs)("div",{className:"mainDisplay",children:[Object(o.jsx)("h1",{children:"CRUD - And Company"}),Object(o.jsx)("div",{className:"startDisplay",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Don't Be Shy, Click a Contact"}),Object(o.jsx)("p",{children:"All Names are Subject to Review"})]})})]},e.id):Object(o.jsx)("div",{className:"mainDisplay",children:Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),w(e.id,e).then((function(t){window.location.reload()})).catch((function(t){console.log(t)})),n({id:0,firstName:"",lastName:"",emails:[""]})},className:"editContactForm",children:[Object(o.jsxs)("div",{className:"editName",children:[Object(o.jsxs)("div",{className:"firstNameBox",children:[Object(o.jsx)("h6",{children:"First Name"}),Object(o.jsx)("input",{className:"nameInput",value:e.firstName,onChange:function(t){return n(Object(s.a)(Object(s.a)({},e),{},{firstName:t.target.value}))}})]}),Object(o.jsxs)("div",{className:"lastNameBox",children:[Object(o.jsx)("h6",{children:"Last Name"}),Object(o.jsx)("input",{className:"nameInput",value:e.lastName,onChange:function(t){return n(Object(s.a)(Object(s.a)({},e),{},{lastName:t.target.value}))}})]})]}),Object(o.jsxs)("div",{className:"contactEmails",children:[Object(o.jsx)("h6",{children:"Emails"}),e.emails.map((function(t,a){return 0===a?Object(o.jsxs)("p",{className:"emailGrp",children:[t,Object(o.jsx)("button",{type:"button",className:"btn",onClick:function(t){c.shift(),n(Object(s.a)(Object(s.a)({},e),{},{emails:c}))},children:Object(o.jsx)(S.a,{fontSize:"small"})},a)]},a):Object(o.jsx)("p",{children:t},a)})),Object(o.jsxs)("button",{type:"button",className:"btn addEmlBtn",onClick:function(){return a(!0)},children:[Object(o.jsx)(m.a,{fontSize:"medium"}),"add email"]})]}),Object(o.jsxs)("div",{className:"btnGroup",children:[Object(o.jsx)("button",{type:"button",className:"btn deleteBtn",onClick:function(){g(e.id).then((function(t){console.log(t),n({id:0,firstName:"",lastName:"",emails:[""]}),window.location.reload()})).catch((function(t){console.log(t)}))},children:"Delete"},e.id),Object(o.jsxs)("div",{className:"cancelSave",children:[Object(o.jsx)("button",{type:"button",className:"btn cancelBtn",onClick:function(){n({id:0,firstName:"",lastName:"",emails:[""]})},children:"Cancel"}),Object(o.jsx)("button",{type:"submit",className:"btn saveBtn",children:"Save"})]})]})]})},e.id)},B=(n(80),function(t){var e=t.handleClose,n=t.openContact,a=Object(l.useState)({firstName:"",lastName:"",emails:[""]}),c=Object(i.a)(a,2),r=c[0],u=c[1],j=Object(l.useState)(""),d=Object(i.a)(j,2),b=d[0],p=d[1];return n?Object(o.jsx)("div",{className:"contactModal",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsx)("div",{className:"modal-header",children:Object(o.jsx)("h1",{className:"modal-title",children:"Add Contact"})}),Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),y(r).then((function(t){console.log(t),e(!0),window.location.reload()})).catch((function(t){console.log(t)}))},className:"addContactForm",children:[Object(o.jsxs)("div",{className:"modal-body",children:[Object(o.jsx)("p",{children:"First Name"}),Object(o.jsx)("input",{type:"text",name:"firstName",className:"modalInput",value:r.firstName,onChange:function(t){return u(Object(s.a)(Object(s.a)({},r),{},{firstName:t.target.value}))},required:!0}),Object(o.jsx)("p",{children:"Last Name"}),Object(o.jsx)("input",{type:"text",name:"lastName",className:"modalInput",value:r.lastName,onChange:function(t){return u(Object(s.a)(Object(s.a)({},r),{},{lastName:t.target.value}))},required:!0}),Object(o.jsx)("p",{children:"Email"}),Object(o.jsx)("input",{type:"text",name:"email",className:"modalInput",value:b,onChange:function(t){return p(t.target.value)},required:!0}),r.emails.map((function(t,e){return Object(o.jsx)("p",{children:t},e)})),Object(o.jsxs)("button",{type:"button",className:"btn addEmlBtn",onClick:function(){return function(){var t=r.emails;t.push(b),""===t[0]&&t.shift(),u(Object(s.a)(Object(s.a)({},r),{},{emails:t}))}()},children:[Object(o.jsx)(m.a,{fontSize:"medium"}),"Add Email"]})]}),Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)("button",{type:"submit",className:"btn mainAddBtn",children:"Add Contact"}),Object(o.jsx)("button",{className:"btn closeBtn",onClick:function(){return e(!1),u({firstName:"",lastName:"",emails:[]}),void p("")},children:"Close"})]})]})]})}):null}),A=(n(81),function(t){var e=t.setOpenEmail,n=t.openEmail,a=t.currentContact,c=t.setCurrentContact,r=Object(l.useState)(""),u=Object(i.a)(r,2),j=u[0],d=u[1];return n?Object(o.jsx)("div",{className:"emailModal",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsx)("div",{className:"modal-header",children:Object(o.jsx)("h1",{className:"modal-title",children:"Add Email"})}),Object(o.jsxs)("div",{className:"modal-body",children:[a.emails.map((function(t,e){return Object(o.jsx)("p",{children:t},e)})),Object(o.jsx)("input",{type:"text",className:"modalInput",value:j,onChange:function(t){return d(t.target.value)}})]}),Object(o.jsxs)("div",{className:"modal-footer eml-modal-footer",children:[Object(o.jsx)("button",{className:"btn mainAddBtn",onClick:function(){return function(){var t=a.emails;t.push(j),c(Object(s.a)(Object(s.a)({},a),{},{emails:t}))}()},children:"Add Email"}),Object(o.jsx)("button",{className:"btn closeBtn",onClick:function(){return e(!1),void d("")},children:"Close"})]})]})}):null});var D=function(){var t=Object(l.useState)([]),e=Object(i.a)(t,2),n=e[0],a=e[1],c=Object(l.useState)({id:0,firstName:"",lastName:"",emails:[""]}),d=Object(i.a)(c,2),m=d[0],b=d[1],p=n.sort((function(t,e){var n=t.firstName.toUpperCase(),a=e.firstName.toUpperCase();return n>a?1:n<a?-1:0})),O=function(t){var e,a=Object(r.a)(n);try{for(a.s();!(e=a.n()).done;){var c=e.value;t.id===c.id&&b(c)}}catch(i){a.e(i)}finally{a.f()}return Object(s.a)({},t)},f=Object(l.useState)(!1),x=Object(i.a)(f,2),v=x[0],N=x[1],y=Object(l.useState)(!1),w=Object(i.a)(y,2),g=w[0],k=w[1];return Object(l.useEffect)((function(){C().then((function(t){a(t.data.contacts)}))}),[]),Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(u,{children:[Object(o.jsx)(h,{handleOpen:function(){return N(!0)},children:p.map((function(t,e){return Object(o.jsx)(j,{user:t,handleCurrentContact:O},e)}))}),Object(o.jsx)(E,{currentContact:m,setCurrentContact:b,handleOpenEmail:function(){return k(!0)}}),Object(o.jsx)(B,{currentContact:m,handleClose:function(){return N(!1)},openContact:v}),Object(o.jsx)(A,{setOpenEmail:k,openEmail:g,currentContact:m,setCurrentContact:b})]})})};n(82);c.a.render(Object(o.jsx)(D,{}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.58bf9c78.chunk.js.map